<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="ex_esdb v0.5.0">


    <title>Debugging and Troubleshooting ‚Äî ex_esdb v0.5.0</title>

    <link rel="stylesheet" href="dist/html-elixir-KV3YOVJ3.css" />

      <link rel="canonical" href="https://hexdocs.pm/ex_esdb/debugging.html" />

    <script defer src="dist/sidebar_items-BAB1635F.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
ex_esdb
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.5.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras="guides"></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ex_esdb</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>ExESDB.Debugger</h1>


  </div>


<p>A comprehensive debugging and inspection tool for ExESDB Event Sourcing Database systems.</p><h2 id="overview" class="section-heading"><a href="#overview" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Overview</span></h2><p>The ExESDB Debugger provides REPL-friendly functions to investigate all aspects of your ExESDB system, including:</p><ul><li>üîç <strong>Process Supervision Tree Inspection</strong></li><li>‚öôÔ∏è <strong>Configuration Analysis</strong></li><li>üìä <strong>Stream and Event Investigation</strong>  </li><li>üìà <strong>Performance Metrics</strong></li><li>üè• <strong>Health Monitoring</strong></li><li>üîÑ <strong>Emitter Pool Management</strong></li><li>üî¨ <strong>Function Tracing</strong></li><li>‚è±Ô∏è <strong>Benchmarking Tools</strong></li></ul><h2 id="quick-start" class="section-heading"><a href="#quick-start" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Quick Start</span></h2><pre><code class="makeup elixir" translate="no"><span class="c1"># In your IEx session</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="1444418580-1">(</span><span class="p" data-group-id="1444418580-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">help</span><span class="p" data-group-id="1444418580-2">(</span><span class="p" data-group-id="1444418580-2">)</span></code></pre><h2 id="core-functions" class="section-heading"><a href="#core-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Core Functions</span></h2><h3 id="system-overview" class="section-heading"><a href="#system-overview" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">System Overview</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Get a complete system overview</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="4284724841-1">(</span><span class="p" data-group-id="4284724841-1">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="4284724841-2">(</span><span class="ss">:my_store</span><span class="p" data-group-id="4284724841-2">)</span><span class="w">

</span><span class="c1"># Show help with all available commands</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">help</span><span class="p" data-group-id="4284724841-3">(</span><span class="p" data-group-id="4284724841-3">)</span></code></pre><h3 id="process-management" class="section-heading"><a href="#process-management" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Process Management</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># List all ExESDB processes</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">processes</span><span class="p" data-group-id="8341118626-1">(</span><span class="p" data-group-id="8341118626-1">)</span><span class="w">

</span><span class="c1"># Display supervision tree</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">supervision_tree</span><span class="p" data-group-id="8341118626-2">(</span><span class="p" data-group-id="8341118626-2">)</span><span class="w">

</span><span class="c1"># Show emitter pools and workers</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">emitters</span><span class="p" data-group-id="8341118626-3">(</span><span class="p" data-group-id="8341118626-3">)</span></code></pre><h3 id="configuration" class="section-heading"><a href="#configuration" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Configuration</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Show detailed configuration</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">config</span><span class="p" data-group-id="6867413959-1">(</span><span class="p" data-group-id="6867413959-1">)</span><span class="w">

</span><span class="c1"># Configuration shows sources (app config vs environment variables)</span></code></pre><h3 id="data-investigation" class="section-heading"><a href="#data-investigation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Data Investigation</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># List all streams</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">streams</span><span class="p" data-group-id="5755316596-1">(</span><span class="p" data-group-id="5755316596-1">)</span><span class="w">

</span><span class="c1"># Show events in a specific stream</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">events</span><span class="p" data-group-id="5755316596-2">(</span><span class="s">&quot;user-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">limit</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="5755316596-2">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">events</span><span class="p" data-group-id="5755316596-3">(</span><span class="s">&quot;orders&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">start_version</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="ss">direction</span><span class="p">:</span><span class="w"> </span><span class="ss">:backward</span><span class="p" data-group-id="5755316596-3">)</span><span class="w">

</span><span class="c1"># List active subscriptions</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">subscriptions</span><span class="p" data-group-id="5755316596-4">(</span><span class="p" data-group-id="5755316596-4">)</span></code></pre><h3 id="health-performance" class="section-heading"><a href="#health-performance" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Health &amp; Performance</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Comprehensive health check</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">health</span><span class="p" data-group-id="0288702998-1">(</span><span class="p" data-group-id="0288702998-1">)</span><span class="w">

</span><span class="c1"># Performance metrics</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">performance</span><span class="p" data-group-id="0288702998-2">(</span><span class="p" data-group-id="0288702998-2">)</span><span class="w">

</span><span class="c1"># Show top processes by memory/CPU</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">top</span><span class="p" data-group-id="0288702998-3">(</span><span class="p" data-group-id="0288702998-3">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">top</span><span class="p" data-group-id="0288702998-4">(</span><span class="ss">limit</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="ss">sort_by</span><span class="p">:</span><span class="w"> </span><span class="ss">:reductions</span><span class="p" data-group-id="0288702998-4">)</span></code></pre><h3 id="debugging-tools" class="section-heading"><a href="#debugging-tools" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Debugging Tools</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Start Erlang Observer GUI</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">observer</span><span class="p" data-group-id="5012841842-1">(</span><span class="p" data-group-id="5012841842-1">)</span><span class="w">

</span><span class="c1"># Trace function calls</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">trace</span><span class="p" data-group-id="5012841842-2">(</span><span class="nc">ExESDB.StreamsWriter</span><span class="p">,</span><span class="w"> </span><span class="ss">:append_events</span><span class="p">,</span><span class="w"> </span><span class="ss">duration</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="5012841842-2">)</span><span class="w">

</span><span class="c1"># Benchmark functions</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">benchmark</span><span class="p" data-group-id="5012841842-3">(</span><span class="k" data-group-id="5012841842-4">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">expensive_operation</span><span class="p" data-group-id="5012841842-5">(</span><span class="p" data-group-id="5012841842-5">)</span><span class="w"> </span><span class="k" data-group-id="5012841842-4">end</span><span class="p">,</span><span class="w"> </span><span class="ss">times</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="5012841842-3">)</span></code></pre><h2 id="multi-store-support" class="section-heading"><a href="#multi-store-support" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Multi-Store Support</span></h2><p>All functions work with multiple stores:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Auto-discover the store (works with single stores)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="1575568508-1">(</span><span class="p" data-group-id="1575568508-1">)</span><span class="w">

</span><span class="c1"># Specify a particular store</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="1575568508-2">(</span><span class="ss">:orders_store</span><span class="p" data-group-id="1575568508-2">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">processes</span><span class="p" data-group-id="1575568508-3">(</span><span class="ss">:inventory_store</span><span class="p" data-group-id="1575568508-3">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">health</span><span class="p" data-group-id="1575568508-4">(</span><span class="ss">:users_store</span><span class="p" data-group-id="1575568508-4">)</span></code></pre><h2 id="example-output" class="section-heading"><a href="#example-output" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Example Output</span></h2><h3 id="system-overview-1" class="section-heading"><a href="#system-overview-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">System Overview</span></h3><pre><code class="makeup elixir" translate="no"><span class="err">üîç</span><span class="w"> </span><span class="nc">ExESDB</span><span class="w"> </span><span class="nc">System</span><span class="w"> </span><span class="nc">Overview</span><span class="w">
</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">=</span><span class="w">
</span><span class="err">üìä</span><span class="w"> </span><span class="ss">Store</span><span class="p">:</span><span class="w"> </span><span class="ss">:my_store</span><span class="w">
</span><span class="err">üîß</span><span class="w"> </span><span class="ss">System</span><span class="p">:</span><span class="w"> </span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">Running</span><span class="w">
</span><span class="err">üÜî</span><span class="w"> </span><span class="ss">PID</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2968199812-1">#</span><span class="nc" data-group-id="2968199812-1">PID</span><span class="p" data-group-id="2968199812-1">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1234</span><span class="o">.</span><span class="mi">0</span><span class="p" data-group-id="2968199812-1">&gt;</span><span class="w">
</span><span class="err">üåê</span><span class="w"> </span><span class="ss">Node</span><span class="p">:</span><span class="w"> </span><span class="ss">:node@localhost</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">System</span><span class="w"> </span><span class="n">healthy</span><span class="w">
</span><span class="err">‚öô</span><span class="err">Ô∏è</span><span class="w">  </span><span class="ss">Processes</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="o">/</span><span class="mi">12</span><span class="w"> </span><span class="n">alive</span><span class="w">
</span><span class="err">‚öô</span><span class="err">Ô∏è</span><span class="w">  </span><span class="ss">Config</span><span class="p">:</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">data</span><span class="w">

</span><span class="err">üí°</span><span class="w"> </span><span class="nc">Use</span><span class="w"> </span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">help</span><span class="p" data-group-id="2968199812-2">(</span><span class="p" data-group-id="2968199812-2">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">commands</span></code></pre><h3 id="health-check" class="section-heading"><a href="#health-check" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Health Check</span></h3><pre><code class="makeup elixir" translate="no"><span class="err">üè•</span><span class="w"> </span><span class="nc">ExESDB</span><span class="w"> </span><span class="nc">Health</span><span class="w"> </span><span class="nc">Check</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ss">:my_store</span><span class="w">
</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">==</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">System</span><span class="w"> </span><span class="nc">Process</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="nc">OK</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">Configuration</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="nc">OK</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">Gateway</span><span class="w"> </span><span class="nc">Workers</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">gateway</span><span class="w"> </span><span class="n">worker</span><span class="p" data-group-id="1047676272-1">(</span><span class="n">s</span><span class="p" data-group-id="1047676272-1">)</span><span class="w"> </span><span class="n">running</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">Store</span><span class="w"> </span><span class="nc">Accessibility</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="nc">OK</span><span class="w">
</span><span class="err">‚ö†</span><span class="err">Ô∏è</span><span class="w"> </span><span class="nc">Memory</span><span class="w"> </span><span class="nc">Usage</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="nc">High</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="ss">usage</span><span class="p">:</span><span class="w"> </span><span class="mf">156.7</span><span class="w"> </span><span class="nc">MB</span><span class="w">
</span><span class="err">‚úÖ</span><span class="w"> </span><span class="nc">Process</span><span class="w"> </span><span class="nc">Supervision</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="nc">OK</span><span class="w">

</span><span class="err">üìä</span><span class="w"> </span><span class="ss">Summary</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">checks</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">errors</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">warnings</span></code></pre><h3 id="process-listing" class="section-heading"><a href="#process-listing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Process Listing</span></h3><pre><code class="makeup elixir" translate="no"><span class="err">‚öô</span><span class="err">Ô∏è</span><span class="w">  </span><span class="nc">ExESDB</span><span class="w"> </span><span class="nc">Processes</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ss">:my_store</span><span class="w">
</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">===</span><span class="o">==</span><span class="w">

</span><span class="err">üì¶</span><span class="w"> </span><span class="nc">System</span><span class="w"> </span><span class="p" data-group-id="5461423044-1">(</span><span class="mi">1</span><span class="w"> </span><span class="n">processes</span><span class="p" data-group-id="5461423044-1">)</span><span class="w">
  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="n">exesdb_system_my_store</span><span class="w">         </span><span class="p" data-group-id="5461423044-2">#</span><span class="nc" data-group-id="5461423044-2">PID</span><span class="p" data-group-id="5461423044-2">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1234</span><span class="o">.</span><span class="mi">0</span><span class="p" data-group-id="5461423044-2">&gt;</span><span class="w"> </span><span class="mf">2.1</span><span class="nc">MB</span><span class="w"> </span><span class="n">msgs</span><span class="p">:</span><span class="mi">0</span><span class="w">

</span><span class="err">üì¶</span><span class="w"> </span><span class="nc">Gateway</span><span class="w"> </span><span class="p" data-group-id="5461423044-3">(</span><span class="mi">2</span><span class="w"> </span><span class="n">processes</span><span class="p" data-group-id="5461423044-3">)</span><span class="w">  
  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="n">gateway_worker_my_store_1</span><span class="w">      </span><span class="p" data-group-id="5461423044-4">#</span><span class="nc" data-group-id="5461423044-4">PID</span><span class="p" data-group-id="5461423044-4">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1235</span><span class="o">.</span><span class="mi">0</span><span class="p" data-group-id="5461423044-4">&gt;</span><span class="w"> </span><span class="mf">1.2</span><span class="nc">MB</span><span class="w"> </span><span class="n">msgs</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="n">gateway_worker_my_store_2</span><span class="w">      </span><span class="p" data-group-id="5461423044-5">#</span><span class="nc" data-group-id="5461423044-5">PID</span><span class="p" data-group-id="5461423044-5">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1236</span><span class="o">.</span><span class="mi">0</span><span class="p" data-group-id="5461423044-5">&gt;</span><span class="w"> </span><span class="mf">1.1</span><span class="nc">MB</span><span class="w"> </span><span class="n">msgs</span><span class="p">:</span><span class="mi">0</span><span class="w">

</span><span class="err">üì¶</span><span class="w"> </span><span class="nc">Emitter</span><span class="w"> </span><span class="p" data-group-id="5461423044-6">(</span><span class="mi">3</span><span class="w"> </span><span class="n">processes</span><span class="p" data-group-id="5461423044-6">)</span><span class="w">
  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="n">emitter_pool_subscription_1</span><span class="w">    </span><span class="p" data-group-id="5461423044-7">#</span><span class="nc" data-group-id="5461423044-7">PID</span><span class="p" data-group-id="5461423044-7">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1237</span><span class="o">.</span><span class="mi">0</span><span class="p" data-group-id="5461423044-7">&gt;</span><span class="w"> </span><span class="mi">512</span><span class="nc">KB</span><span class="w"> </span><span class="n">msgs</span><span class="p">:</span><span class="mi">0</span><span class="w">

</span><span class="err">üìä</span><span class="w"> </span><span class="nc">Total</span><span class="w"> </span><span class="ss">Memory</span><span class="p">:</span><span class="w"> </span><span class="mf">4.8</span><span class="nc">MB</span></code></pre><h2 id="health-checks" class="section-heading"><a href="#health-checks" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Health Checks</span></h2><p>The health check performs the following validations:</p><ul><li>‚úÖ <strong>System Process</strong>: Main supervisor is running</li><li>‚úÖ <strong>Configuration</strong>: All config values are accessible</li><li>‚úÖ <strong>Gateway Workers</strong>: At least one gateway worker is available</li><li>‚úÖ <strong>Store Accessibility</strong>: Can communicate with the store</li><li>‚ö†Ô∏è <strong>Memory Usage</strong>: Monitors total memory consumption</li><li>‚úÖ <strong>Process Supervision</strong>: All supervised processes are alive</li></ul><h2 id="performance-monitoring" class="section-heading"><a href="#performance-monitoring" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Performance Monitoring</span></h2><pre><code class="makeup elixir" translate="no"><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">performance</span><span class="p" data-group-id="4351414995-1">(</span><span class="p" data-group-id="4351414995-1">)</span></code></pre><p>Shows:</p><ul><li>System memory and CPU info</li><li>Total ExESDB process count and memory usage</li><li>Top memory-consuming processes</li><li>System uptime</li></ul><h2 id="tracing-and-debugging" class="section-heading"><a href="#tracing-and-debugging" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tracing and Debugging</span></h2><h3 id="function-tracing" class="section-heading"><a href="#function-tracing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Function Tracing</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Trace all calls to a function for 5 seconds</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">trace</span><span class="p" data-group-id="1790083855-1">(</span><span class="nc">ExESDB.StreamsWriter</span><span class="p">,</span><span class="w"> </span><span class="ss">:append_events</span><span class="p" data-group-id="1790083855-1">)</span><span class="w">

</span><span class="c1"># Custom tracing duration</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">trace</span><span class="p" data-group-id="1790083855-2">(</span><span class="nc">MyModule</span><span class="p">,</span><span class="w"> </span><span class="ss">:my_function</span><span class="p">,</span><span class="w"> </span><span class="ss">duration</span><span class="p">:</span><span class="w"> </span><span class="mi">10_000</span><span class="p" data-group-id="1790083855-2">)</span></code></pre><h3 id="benchmarking" class="section-heading"><a href="#benchmarking" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Benchmarking</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Benchmark a function</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">benchmark</span><span class="p" data-group-id="4512996603-1">(</span><span class="k" data-group-id="4512996603-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
  </span><span class="nc">ExESDB.StreamsWriter</span><span class="o">.</span><span class="n">append_events</span><span class="p" data-group-id="4512996603-3">(</span><span class="ss">:my_store</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4512996603-4">[</span><span class="p" data-group-id="4512996603-5">%{</span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p" data-group-id="4512996603-5">}</span><span class="p" data-group-id="4512996603-4">]</span><span class="p" data-group-id="4512996603-3">)</span><span class="w">
</span><span class="k" data-group-id="4512996603-2">end</span><span class="p">,</span><span class="w"> </span><span class="ss">times</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="4512996603-1">)</span></code></pre><h3 id="observer-gui" class="section-heading"><a href="#observer-gui" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Observer GUI</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Opens the Erlang Observer for real-time monitoring</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">observer</span><span class="p" data-group-id="8464121783-1">(</span><span class="p" data-group-id="8464121783-1">)</span></code></pre><h2 id="dependencies" class="section-heading"><a href="#dependencies" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Dependencies</span></h2><p>The debugger uses several built-in and external libraries:</p><ul><li><strong>:recon</strong> - Process inspection and system information</li><li><strong>:observer</strong> - Erlang Observer GUI (included in OTP)</li><li><strong>:dbg</strong> - Function tracing (included in OTP)</li><li><strong>:sys</strong> - System process inspection (included in OTP)</li></ul><h2 id="troubleshooting" class="section-heading"><a href="#troubleshooting" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Troubleshooting</span></h2><h3 id="common-issues" class="section-heading"><a href="#common-issues" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Common Issues</span></h3><ol><li><p><strong>No processes found</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Make sure ExESDB is running</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">health</span><span class="p" data-group-id="1042302187-1">(</span><span class="p" data-group-id="1042302187-1">)</span><span class="w">  </span><span class="c1"># Will show what&#39;s missing</span></code></pre></li><li><p><strong>Gateway worker not available</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Check if the system is properly started</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">supervision_tree</span><span class="p" data-group-id="6329863814-1">(</span><span class="p" data-group-id="6329863814-1">)</span></code></pre></li><li><p><strong>Memory warnings</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Investigate top memory consumers</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">top</span><span class="p" data-group-id="1744404508-1">(</span><span class="ss">sort_by</span><span class="p">:</span><span class="w"> </span><span class="ss">:memory</span><span class="p" data-group-id="1744404508-1">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">observer</span><span class="p" data-group-id="1744404508-2">(</span><span class="p" data-group-id="1744404508-2">)</span><span class="w">  </span><span class="c1"># For detailed analysis</span></code></pre></li></ol><h3 id="tips" class="section-heading"><a href="#tips" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tips</span></h3><ul><li>Use <code class="inline">help()</code> to see all available commands</li><li>All functions work without store_id (auto-discovery)</li><li>Health checks will identify most common issues</li><li>Observer GUI provides real-time monitoring</li><li>Tracing is helpful for performance debugging</li><li>Performance monitoring shows system resource usage</li></ul><h2 id="integration" class="section-heading"><a href="#integration" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Integration</span></h2><p>The debugger is designed to be used in development and production REPL sessions. It's safe to use in production as all operations are read-only by default.</p><p>Add it to your application by ensuring ExESDB is in your dependencies, then use it directly in IEx:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># In your IEx session after starting your app</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">overview</span><span class="p" data-group-id="9475431747-1">(</span><span class="p" data-group-id="9475431747-1">)</span></code></pre><h2 id="examples" class="section-heading"><a href="#examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><h3 id="development-workflow" class="section-heading"><a href="#development-workflow" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Development Workflow</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># 1. Start your app</span><span class="w">
</span><span class="n">iex</span><span class="w"> </span><span class="o">-</span><span class="nc">S</span><span class="w"> </span><span class="n">mix</span><span class="w">

</span><span class="c1"># 2. Check system health</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">health</span><span class="p" data-group-id="9292124842-1">(</span><span class="p" data-group-id="9292124842-1">)</span><span class="w">

</span><span class="c1"># 3. Look at your data</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">streams</span><span class="p" data-group-id="9292124842-2">(</span><span class="p" data-group-id="9292124842-2">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">events</span><span class="p" data-group-id="9292124842-3">(</span><span class="s">&quot;user-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">limit</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="9292124842-3">)</span><span class="w">

</span><span class="c1"># 4. Monitor performance</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">performance</span><span class="p" data-group-id="9292124842-4">(</span><span class="p" data-group-id="9292124842-4">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">top</span><span class="p" data-group-id="9292124842-5">(</span><span class="p" data-group-id="9292124842-5">)</span><span class="w">

</span><span class="c1"># 5. Debug issues</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">trace</span><span class="p" data-group-id="9292124842-6">(</span><span class="nc">MyModule</span><span class="p">,</span><span class="w"> </span><span class="ss">:problematic_function</span><span class="p" data-group-id="9292124842-6">)</span></code></pre><h3 id="production-debugging" class="section-heading"><a href="#production-debugging" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Production Debugging</span></h3><pre><code class="makeup elixir" translate="no"><span class="c1"># Quick health check</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">health</span><span class="p" data-group-id="8011060109-1">(</span><span class="p" data-group-id="8011060109-1">)</span><span class="w">

</span><span class="c1"># Check memory usage</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">performance</span><span class="p" data-group-id="8011060109-2">(</span><span class="p" data-group-id="8011060109-2">)</span><span class="w">

</span><span class="c1"># Investigate specific issues</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">processes</span><span class="p" data-group-id="8011060109-3">(</span><span class="p" data-group-id="8011060109-3">)</span><span class="w">
</span><span class="nc">ExESDB.Debugger</span><span class="o">.</span><span class="n">supervision_tree</span><span class="p" data-group-id="8011060109-4">(</span><span class="p" data-group-id="8011060109-4">)</span></code></pre><p>The ExESDB Debugger makes it easy to understand, monitor, and debug your Event Sourcing system!</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="implementation-guidelines.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ‚Üê Previous Page
        </span>
        <span class="title">
Implementation Guidelines
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="readme.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page ‚Üí
        </span>
        <span class="title">
Read Me
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ex_esdb/0.5.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ex_esdb/0.5.0">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/ex_esdb/0.5.0/show/guides/debugging.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ex_esdb.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
